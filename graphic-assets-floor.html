<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>8bits Game Editor â€” Floor Designer</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Syne+Mono&family=IBM+Plex+Sans:wght@300;400;500;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body class="page-graphic-assets" data-designer="floor">
  <header class="navigation-bar-sticky">
    <div class="navigation-bar-inner">
      <a class="brand-lockup" href="index.html" aria-label="8bits Game Editor home">
        <span class="brand-mark" aria-hidden="true">
          <svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="square" stroke-linejoin="miter">
            <rect x="2" y="2" width="8" height="8"></rect>
            <rect x="14" y="2" width="8" height="8"></rect>
            <rect x="2" y="14" width="8" height="8"></rect>
            <rect x="14" y="14" width="8" height="8"></rect>
          </svg>
        </span>
        <span class="brand-text">8bits Game Editor</span>
      </a>
      <div class="navigation-right">
        <nav class="navigation-links">
          <a class="navigation-link" href="index.html">
            <span class="navigation-icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
                <path d="M5 12l7-7 7 7"></path>
                <path d="M6 10v10h12V10"></path>
              </svg>
            </span>
            <span class="navigation-text" data-i18n="nav.home">Home</span>
          </a>
          <a class="navigation-link" href="graphic-assets-tiles.html">
            <span class="navigation-icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
                <rect x="3" y="3" width="7" height="7"></rect>
                <rect x="14" y="3" width="7" height="7"></rect>
                <rect x="3" y="14" width="7" height="7"></rect>
                <rect x="14" y="14" width="7" height="7"></rect>
              </svg>
            </span>
            <span class="navigation-text" data-i18n="nav.tiles">Tiles Designer</span>
          </a>
          <a class="navigation-link" href="graphic-assets-sprite.html">
            <span class="navigation-icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor">
                <path d="M3 5v14a1 1 0 0 0 1.504 .864l12 -7a1 1 0 0 0 0 -1.728l-12 -7a1 1 0 0 0 -1.504 .864z" />
                <path d="M20 4a1 1 0 0 1 .993 .883l.007 .117v14a1 1 0 0 1 -1.993 .117l-.007 -.117v-14a1 1 0 0 1 1 -1z" />
              </svg>
            </span>
            <span class="navigation-text" data-i18n="nav.sprite">Sprite Designer</span>
          </a>
          <a class="navigation-link" href="graphic-assets-walls.html">
            <span class="navigation-icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
                <path d="M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z" />
                <path d="M4 8h16" />
                <path d="M20 12h-16" />
                <path d="M4 16h16" />
                <path d="M9 4v4" />
                <path d="M14 8v4" />
                <path d="M8 12v4" />
                <path d="M16 12v4" />
                <path d="M11 16v4" />
              </svg>
            </span>
            <span class="navigation-text" data-i18n="nav.walls">Walls Designer</span>
          </a>
          <a class="navigation-link" href="graphic-assets-floor.html">
            <span class="navigation-icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round">
                <path d="M4 16h16" />
                <path d="M4 12h16" />
                <path d="M4 8h16" />
              </svg>
            </span>
            <span class="navigation-text" data-i18n="nav.floor">Floor Designer</span>
          </a>
          <a class="navigation-link" href="map-creator.html">
            <span class="navigation-icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round">
                <path d="M3 6l6-3 6 3 6-3v15l-6 3-6-3-6 3z" />
                <path d="M9 3v15" />
                <path d="M15 6v15" />
              </svg>
            </span>
            <span class="navigation-text" data-i18n="nav.map">Map Creator</span>
          </a>
          <a class="navigation-link" href="world-creator.html">
            <span class="navigation-icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="12" cy="12" r="9" />
                <path d="M3 12h18" />
                <path d="M12 3a12 12 0 0 1 0 18" />
                <path d="M12 3a12 12 0 0 0 0 18" />
              </svg>
            </span>
            <span class="navigation-text" data-i18n="nav.world">World Creator</span>
          </a>
          <a class="navigation-link" href="tester.html">
            <span class="navigation-icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round">
                <rect x="3" y="7" width="18" height="10" rx="2" />
                <path d="M7 12h4" />
                <path d="M9 10v4" />
                <circle cx="16.5" cy="12" r="1.2" />
              </svg>
            </span>
            <span class="navigation-text" data-i18n="nav.tester">Tester</span>
          </a>
        </nav>
        <div class="language-toggle" role="group" aria-label="Language switcher">
          <button class="language-toggle-button is-active" type="button" data-lang="en" aria-pressed="true">EN</button>
          <button class="language-toggle-button" type="button" data-lang="fr" aria-pressed="false">FR</button>
        </div>
      </div>
    </div>
  </header>

  <main class="workspace-page">
    <section class="workspace-header">
      <div>
        <h1 class="workspace-title" data-i18n="workspace.titleFloor">Floor Designer</h1>
        <p class="workspace-subtitle" data-i18n="workspace.subtitle">Pixel editor workspace for sprites, tiles, and texture systems.</p>
      </div>
    </section>

    <section class="workspace-layout">
      <aside class="workspace-panel-left">
        <h2 class="panel-title" data-i18n="panel.tools">Tools</h2>
        <div class="tool-selector">
          <button class="tool-selector-button is-active" data-tool="pencil">
            <span class="tool-icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
                <path d="M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1" />
                <path d="M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z" />
                <path d="M16 5l3 3" />
              </svg>
            </span>
            <span class="tool-label" data-i18n="tool.pencil">Pencil</span>
          </button>
          <button class="tool-selector-button" data-tool="eraser">
            <span class="tool-icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
                <path d="M18 13l-5 5H7l-4-4 9-9 6 6z"></path>
              </svg>
            </span>
            <span class="tool-label" data-i18n="tool.eraser">Eraser</span>
          </button>
          <button class="tool-selector-button" data-tool="eyedropper">
            <span class="tool-icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
                <path d="M11 7l6 6" />
                <path d="M4 16l11.7 -11.7a1 1 0 0 1 1.4 0l2.6 2.6a1 1 0 0 1 0 1.4l-11.7 11.7h-4v-4z" />
              </svg>
            </span>
            <span class="tool-label" data-i18n="tool.eyedropper">Eyedropper</span>
          </button>
          <button class="tool-selector-button" data-tool="fill">
            <span class="tool-icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
                <path d="M5 16l1.465 1.638a2 2 0 1 1 -3.015 .099l1.55 -1.737z" />
                <path d="M13.737 9.737c2.299 -2.3 3.23 -5.095 2.081 -6.245c-1.15 -1.15 -3.945 -.217 -6.244 2.082c-2.3 2.299 -3.231 5.095 -2.082 6.244c1.15 1.15 3.946 .218 6.245 -2.081z" />
                <path d="M7.492 11.818c.362 .362 .768 .676 1.208 .934l6.895 4.047c1.078 .557 2.255 -.075 3.692 -1.512c1.437 -1.437 2.07 -2.614 1.512 -3.692c-.372 -.718 -1.72 -3.017 -4.047 -6.895a6.015 6.015 0 0 0 -.934 -1.208" />
              </svg>
            </span>
            <span class="tool-label" data-i18n="tool.fill">Fill Bucket</span>
          </button>
          <button class="tool-selector-button" data-tool="copy">
            <span class="tool-icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
                <rect x="9" y="9" width="11" height="11" rx="2"></rect>
                <rect x="4" y="4" width="11" height="11" rx="2"></rect>
              </svg>
            </span>
            <span class="tool-label" data-i18n="tool.copy">Copy Mode</span>
          </button>
        </div>
        <div class="panel-divider"></div>
        <div class="tool-info">
          <p class="panel-label" data-i18n="panel.activeTool">Active Tool</p>
          <p class="panel-value" id="active-tool-label">Pencil</p>
        </div>
        <div class="panel-divider"></div>
        <div class="copy-mode-panel" id="copy-mode-panel">
          <p class="panel-label" data-i18n="panel.copyMode">Copy workflow</p>
          <p class="copy-mode-status" id="copy-status">Inactive</p>
          <div class="copy-mode-actions">
            <button class="button-secondary" type="button" id="copy-selection" data-i18n="panel.copySelection">Copy</button>
            <button class="button-secondary" type="button" id="copy-set-origin" data-i18n="panel.copySetOrigin">Set origin</button>
            <button class="button-secondary" type="button" id="copy-rotate-left" data-i18n="panel.copyRotateLeft">Rotate -90</button>
            <button class="button-secondary" type="button" id="copy-rotate-right" data-i18n="panel.copyRotateRight">Rotate +90</button>
            <button class="button-secondary" type="button" id="copy-paste" data-i18n="panel.copyPaste">Paste</button>
            <button class="button-secondary" type="button" id="copy-reset" data-i18n="panel.copyReset">Reset</button>
          </div>
          <p class="copy-selection-size" id="copy-selection-size" data-i18n="panel.copySelectionSizeNone">No selection</p>
        </div>
        <div class="panel-divider"></div>
        <div class="wall-tiles-panel" id="wall-tiles-panel">
          <h2 class="panel-title" data-i18n="panel.wallTiles">Wall Tiles</h2>
          <p class="panel-subtitle" data-i18n="panel.wallTilesSubtitle">Select a wall segment to edit.</p>
          <div class="wall-mode-controls">
            <label class="panel-label" for="wall-mode" data-i18n="panel.wallMode">Wall Mode</label>
            <select class="wall-mode-select" id="wall-mode" aria-label="Wall mode">
              <option value="x13" data-i18n="panel.wallMode13">Mode x13+3 (Minimal)</option>
              <option value="x47" data-i18n="panel.wallMode47">Mode x47 (RPG / Advanced)</option>
            </select>
          </div>
          <div class="wall-tiles-grid" id="wall-tiles-grid"></div>
        </div>
      </aside>

      <div class="workspace-panel-center">
        <div class="canvas-header">
          <div>
            <h2 class="panel-title" data-i18n="panel.canvas">Pixel Canvas</h2>
            <p class="panel-subtitle" data-i18n="panel.canvasSubtitle">Adjustable grid. Pixel size follows zoom.</p>
          </div>
          <div class="canvas-controls">
            <div class="grid-control">
              <label class="panel-label" for="grid-width" data-i18n="panel.grid">Grid</label>
              <div class="grid-inputs">
                <input class="grid-size-input" type="number" id="grid-width" min="1" max="128" value="16" aria-label="Grid width" />
                <span class="grid-separator">x</span>
                <input class="grid-size-input" type="number" id="grid-height" min="1" max="128" value="16" aria-label="Grid height" />
                <button class="button-secondary" type="button" id="apply-grid" data-i18n="panel.gridApply">Apply</button>
              </div>
            </div>
            <div class="zoom-control">
              <label class="panel-label" for="zoom-range" data-i18n="panel.zoom">Zoom</label>
              <input type="range" id="zoom-range" min="10" max="25" value="10" />
              <span class="panel-value" id="zoom-value">10px</span>
            </div>
            <div class="grid-control">
              <label class="panel-label" data-i18n="panel.checker">Checker</label>
              <label class="toggle-switch">
                <input type="checkbox" id="checker-toggle" />
                <span class="toggle-slider"></span>
              </label>
            </div>
          </div>
        </div>
        <div class="canvas-grid-wrapper">
          <div class="pixel-canvas-grid" id="pixel-canvas"></div>
        </div>
        <div class="palette-panel">
          <div>
            <h2 class="panel-title" data-i18n="panel.palette">Palette</h2>
            <p class="panel-subtitle" data-i18n="panel.paletteSubtitle">Predefined pixel-art colors.</p>
          </div>
          <div class="palette-controls">
            <select class="palette-select" id="palette-select" aria-label="Palette selector"></select>
            <div class="palette-actions">
              <button class="button-secondary" type="button" id="add-palette" data-i18n="panel.addPalette">Add Palette</button>
              <button class="button-secondary" type="button" id="import-palette" data-i18n="panel.importPalette">Import TXT</button>
              <button class="button-secondary" type="button" id="export-palette" data-i18n="panel.exportPalette">Export TXT</button>
              <input class="palette-file-input" type="file" id="palette-file" accept=".txt" />
            </div>
          </div>
          <div class="palette-row">
            <div class="palette-swatch-group" id="palette-swatches"></div>
            <div class="active-color-preview">
              <span class="panel-label" data-i18n="panel.activeColor">Active</span>
              <div class="active-color-chip" id="active-color-chip"></div>
            </div>
          </div>
        </div>
        <div class="export-panel accent-outline-active">
          <div>
            <h2 class="panel-title" data-i18n="panel.export">Export</h2>
            <p class="panel-subtitle" data-i18n="panel.exportSubtitle">Ready for PNG output. Transparent background preserved.</p>
          </div>
          <div class="export-controls">
            <input class="export-name-input" type="text" id="export-name" value="wall-tile" aria-label="Export filename" />
            <div class="export-actions">
              <button class="button-primary" id="export-png" data-i18n="panel.exportButton">Export PNG</button>
              <button class="button-secondary" id="export-json" data-i18n="panel.exportJson">Export JSON</button>
              <button class="button-secondary" id="import-json" data-i18n="panel.importJson">Import JSON</button>
              <button class="button-secondary" id="export-tiles-png" data-i18n="panel.exportTiles">Export Tiles PNG</button>
              <button class="button-secondary" id="clear-canvas" data-i18n="panel.clearCanvas">Clear Canvas</button>
              <input class="export-file-input" type="file" id="import-json-file" accept=".json" />
            </div>
          </div>
        </div>
      </div>

      <aside class="workspace-panel-right">
        <div class="preview-header">
          <h2 class="panel-title" data-i18n="panel.previewWallsTitle">Walls Preview</h2>
        </div>
        <div class="preview-panel">
          <div class="preview-controls">
            <div class="preview-control-group">
              <label class="panel-label" for="walls-cols" data-i18n="panel.wallGrid">Wall Grid</label>
              <div class="grid-inputs">
                <input class="grid-size-input" type="number" id="walls-cols" min="2" max="32" value="10" aria-label="Wall grid columns" />
                <span class="grid-separator">x</span>
                <input class="grid-size-input" type="number" id="walls-rows" min="2" max="32" value="10" aria-label="Wall grid rows" />
                <button class="button-secondary" type="button" id="walls-apply" data-i18n="panel.previewApply">Apply</button>
              </div>
            </div>
            <div class="preview-control-group">
              <label class="panel-label" data-i18n="panel.wallRandom">Random Map</label>
              <button class="button-secondary" type="button" id="walls-randomize" data-i18n="panel.wallRandomButton">Generate</button>
            </div>
            <div class="preview-control-group">
              <label class="panel-label" data-i18n="panel.previewOverlay">Overlay</label>
              <label class="toggle-switch">
                <input type="checkbox" id="walls-grid-toggle" checked />
                <span class="toggle-slider"></span>
              </label>
            </div>
            <div class="preview-control-group">
              <label class="panel-label" for="walls-zoom" data-i18n="panel.previewZoom">Zoom</label>
              <input type="range" id="walls-zoom" min="1" max="5" value="2" />
            </div>
          </div>
          <div class="preview-stack">
            <div class="preview-stack-item">
              <p class="panel-label" data-i18n="panel.wallPaint">Wall Paint Grid</p>
              <div class="preview-canvas-wrapper">
                <canvas class="preview-canvas" id="walls-paint-canvas" width="360" height="220"></canvas>
              </div>
            </div>
            <div class="preview-stack-item">
              <p class="panel-label" data-i18n="panel.wallResult">Rendered Walls</p>
              <div class="preview-canvas-wrapper">
                <canvas class="preview-canvas" id="walls-preview-canvas" width="360" height="220"></canvas>
              </div>
            </div>
          </div>
        </div>
      </aside>
    </section>
  </main>

  <script src="script.js"></script>
  <div class="modal-overlay is-hidden" id="palette-modal" aria-hidden="true">
    <div class="modal-panel" role="dialog" aria-modal="true" aria-labelledby="palette-modal-title">
      <div class="modal-header">
        <h2 class="panel-title" id="palette-modal-title" data-i18n="panel.paletteModalTitle">Add Palette</h2>
        <button class="button-secondary" type="button" id="palette-modal-close" aria-label="Close">Close</button>
      </div>
      <div class="modal-body">
        <label class="panel-label" for="palette-name" data-i18n="panel.paletteName">Palette Name</label>
        <input class="export-name-input" type="text" id="palette-name" placeholder="Neon City" />
        <label class="panel-label" for="palette-values" data-i18n="panel.paletteValues">Colors</label>
        <textarea class="palette-textarea" id="palette-values" rows="5" placeholder=\"rgb(255,0,0) #00ff88 #123456\"></textarea>
        <p class="panel-subtitle" data-i18n="panel.paletteHint">Use spaces between colors. Accepts rgb(x,y,z) or #hex.</p>
      </div>
      <div class="modal-footer">
        <button class="button-secondary" type="button" id="palette-modal-cancel" data-i18n="panel.cancel">Cancel</button>
        <button class="button-primary" type="button" id="palette-modal-save" data-i18n="panel.save">Save Palette</button>
      </div>
    </div>
  </div>
</body>
</html>
